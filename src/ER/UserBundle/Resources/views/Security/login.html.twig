{# src/ER/UserBundle/Resources/views/Security/login.html.twig #}

{% extends "ERBoxShadowBundle::layout.html.twig" %}

{% block body %}
    {# S'il y a une erreur, on l'affiche dans un joli cadre #}
    {% if error %}
        <div class="alert alert-danger">{{ error.message }}</div>
    {% endif %}
    {# Le formulaire, avec URL de soumission vers la route « login_check » comme on l'a vu #}
    <form action="{{ path('security_login') }}" method="post" >
        <div class="form-group">
            <label for="username">Login :</label>
            <input type="text" id="username" name="_username" value="{{ last_username }}" class="form-control"/>
        </div>
        <div class="form-group">
            <label for="password">Password :</label>
            <input type="password" id="password" name="_password" class="form-control"/>
        </div>

        <input type="submit" value="Connexion" class="btn btn-primary"/>
    </form>

{#    <div>
        {{ form_start(form, {'attr': {'class': 'form'}}) }}
        {{ form_errors(form) }}

        <div class="form-group">
        {{ form_label(form.username, "Login", {'label_attr': {'class': 'control-label'}}) }}
        {{ form_errors(form.username) }}
        {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
        </div>
        <div class="form-group">
        {{ form_label(form.password, "Password", {'label_attr': {'class': 'control-label'}}) }}
        {{ form_errors(form.password) }}
        {{ form_widget(form.password, {'attr': {'class': 'form-control ckeditor'}}) }}
        </div>
        <div class="form-group">
        #}{# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}{#
        {{ form_widget(form.register, {'attr': {'class': 'btn btn-primary'}}) }}
        </div>
        {{ form_rest(form) }}
        #}{# Fermeture de la balise <form> du formulaire HTML #}{#
        {{ form_end(form) }}
    </div>#}

{% endblock %}
